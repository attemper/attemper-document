# 接入指引

## 申请租户

调度中心是一个支持多租户的分布式系统，这里的租户可以理解为一个业务系统或者一个微服务。<br>
使用调度中心的系统，应先向调度中心管理员（超管）申请普通租户，需提供以下信息：
- 系统简称<br>
  例如“sras”
- 系统全称<br>
  例如“科创板股票发行上市审核系统”
- 告警方式配置
  在任务失败时，可通过此配置进行告警（**只有生产环境才可告警**）
  - 告警邮箱号<br>
    例如abcde@sse.com.cn，通过本所外网邮箱和随行办公进行告警
  - 告警手机号<br>
    例如12345678901，通过短信进行告警

## 接入要求
1.除BI和Batch框架改造而接入之外，**所有新增任务必须具有幂等性，否则拒绝在调度中心上线**<br>
关于批处理任务的幂等性的解释如下：
任务在带有相同参数（若有）被调起的前提下，任意多次执行对资源本身所产生的影响和一次执行完全相同<br>
幂等的好处
- 任务可以随时重试
- 不需要手工应急(非幂等意味着要修改上次生产的数据)

2.**低于5分钟触发频率的**，必须提前与调度中心开发人员沟通需求，确认需求是否合理<br>
比如扫数据库表，这种本身做成批处理的任务就不合理，当然调度中心也支持，请务必提前沟通

3.调度中心需要预留升级时间窗口（可能周末升级），非交易日不能保证全天服务，若必须服务，请务必提前告知

4.为了保证批处理应用的质量（降低以后出现安全事件的概率），对接的系统在版本(每一次)上线前应当评审（评审会或提供源码地址&文档）

## 应用接入
调度中心按批处理的实现方式，分了以下几类接入系统：
- 后台应用
  - 微服务
  - 普通web项目
  - ...
  
  此类系统需要调度中心通过http接口去调，故需要依赖调度中心的sdk
- 脚本应用
  - Python
  - Shell
  - ...
  
  此类应用需将脚本以文本、程序包、代码片段的方式存储在调度中心
  
调度中心还提供了一系列带批处理逻辑的**模板任务**，比如存储网关读写、发送通知(邮件、短信、随行)等，
如果你有通用性的需求（至少2个系统通用，且不止1个任务），可以向调度中心提出，调度中心可将其提炼出模板任务

[跳转到任务配置](/feature/dispatch/job.md)